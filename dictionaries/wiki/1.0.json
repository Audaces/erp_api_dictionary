{
  "auth": {
    "endpoint": "http://app.wikisistemas.com.br/api/login",
    "method": "POST",
    "send_as_json": true,
    "bodyparam": {
      "Email": "{erp_user}",
      "Senha": "{erp_password}"
    },
    "queryparam": {},
    "headers": {
      "accept": "application/json",
      "Content-Type": "application/json"
    },
    "output": {
      "keys": {
		"access_token": "retorno.token"
      }
    }
  },
  "finished_product": {
    "endpoint": "http://app.wikisistemas.com.br/api/wiki_v2/produto_get",
    "method": "GET",
    "send_as_json": true,
    "erp_search_id": "id",
    "queryparam": {
      "pagina": 1,
      "audaces": 1
    },
    "bodyparam": {},
    "header": {
      "Token": "Bearer {token}"
    },
    "output": {
      "result_list_key": "retorno.dados",
      "keys": {
        "uid": "ProdId",
        "reference": "ProdId",
        "name": "ProdDescricao",
        "description": "ProdDescricao",
        "measure_unit": "ProdUnd",
        "suplier": "ProdCodigoFornecedor",
        "notes": "ProdObservacao"
      },
      "custom_keys": {
        "ProdEmpId": "ProdEmpId",
        "ProdSituacao": "ProdSituacao",
        "ProdTipo": "ProdTipo",
        "ProdClassificacao": "ProdClassificacao",
        "ProdNcm": "ProdNcm",
        "ProdControlaEstoque": "ProdControlaEstoque",
        "ProdComposicao": "ProdComposicao",
        "ProdFoto": "ProdFoto",
        "ProdDatacad": "ProdDatacad",
        "ProdDataAlt": "ProdDataAlt",
        "ProdKit": "ProdKit",
        "ProdControleGrade": "ProdControleGrade",
        "ProdGradeId": "ProdGradeId"
       },
	   "custom_keys_list": {
	   "Cor": "aditional_cor_custom_keys_list",
	   "Grade": "aditional_grade_custom_keys_list",
	   "Preco": "aditional_preco_custom_keys_list",
     "Tamanho": "aditional_sizes_custom_keys_list",
     "Grupo": "aditional_grupo_produto_custom_keys_list",
     "Subgrupo": "aditional_subgrupo_produto_custom_keys_list",
     "Segmento": "aditional_segmento_produto_custom_keys_list",
     "Linha": "aditional_linha_produto_custom_keys_list",
     "Categoria": "aditional_categoria_produto_custom_keys_list",
     "Colecao": "aditional_colecao_custom_keys_list"
	  }
    }
  },
  "aditional_cor_custom_keys_list": {
    "endpoint": "http://app.wikisistemas.com.br/api/wiki_v2/cor_get",
    "method": "GET",
    "send_as_json": true,
    "queryparam": {
    },
    "bodyparam": {},
    "header": {
      "Token": "Bearer {token}"
    },
    "output": {
      "result_list_key": "retorno",
      "rule" : "uid - name",
      "keys": {
        "uid": "CorId",
        "name": "CorDescricao"
      }
    }
  },
  "aditional_grade_custom_keys_list": {
    "endpoint": "http://app.wikisistemas.com.br/api/wiki_v2/grade_get",
    "method": "GET",
    "send_as_json": true,
    "queryparam": {
    },
    "bodyparam": {},
    "header": {
      "Token": "Bearer {token}"
    },
    "output": {
      "result_list_key": "retorno",
      "rule" : "uid - name",
      "keys": {
        "uid": "GradeId",
        "name": "GradeDescricao"
      }
    }
  },
  "aditional_sizes_custom_keys_list": {
    "endpoint": "http://app.wikisistemas.com.br/api/wiki_v2/tamanhos_get",
    "method": "GET",
    "send_as_json": true,
    "queryparam": {
    },
    "bodyparam": {},
    "header": {
      "Token": "Bearer {token}"
    },
    "output": {
    "result_list_key": "retorno",
    "keys": {
      "name": "itemTamanho"
    }
  }
  },
  "aditional_preco_custom_keys_list": {
    "endpoint": "http://app.wikisistemas.com.br/api/wiki_v2/tabpreco_get",
    "method": "GET",
    "send_as_json": true,
    "queryparam": {
    },
    "bodyparam": {},
    "header": {
      "Token": "Bearer {token}"
    },
    "output": {
      "result_list_key": "retorno",
      "rule" : "uid - name",
      "keys": {
        "uid": "TabpId",
        "name": "TabpDescricao",
        "value": "TabpPrecoFinal"
      }
    }
  },
  "aditional_grupo_produto_custom_keys_list": {
    "endpoint": "http://app.wikisistemas.com.br/api/wiki_v2/grupo_produto_get",
    "method": "GET",
    "send_as_json": true,
    "queryparam": {
      "audaces": 1
    },
    "bodyparam": {},
    "header": {
      "Token": "Bearer {token}"
    },
    "output": {
      "result_list_key": "retorno",
      "rule": "uid - name",
      "keys": {
        "uid": "GrpprodId",
        "name": "GrpprodDescricao"
      }
    }
  },
  "aditional_subgrupo_produto_custom_keys_list": {
    "endpoint": "http://app.wikisistemas.com.br/api/wiki_v2/subgrupo_produto_get",
    "method": "GET",
    "send_as_json": true,
    "queryparam": {
      "audaces": 1
    },
    "bodyparam": {},
    "header": {
      "Token": "Bearer {token}"
    },
    "output": {
      "result_list_key": "retorno",
      "rule": "uid - name",
      "keys": {
        "uid": "SubpId",
        "name": "SubpDescricao"
      }
    }
  },
  "aditional_segmento_produto_custom_keys_list": {
    "endpoint": "http://app.wikisistemas.com.br/api/wiki_v2/segmento_produto_get",
    "method": "GET",
    "send_as_json": true,
    "queryparam": {
      "audaces": 1
    },
    "bodyparam": {},
    "header": {
      "Token": "Bearer {token}"
    },
    "output": {
      "result_list_key": "retorno",
      "rule": "uid - name",
      "keys": {
        "uid": "SegId",
        "name": "SegDescricao"
      }
    }
  },
  "aditional_linha_produto_custom_keys_list": {
    "endpoint": "http://app.wikisistemas.com.br/api/wiki_v2/linha_produto_get",
    "method": "GET",
    "send_as_json": true,
    "queryparam": {
      "audaces": 1
    },
    "bodyparam": {},
    "header": {
      "Token": "Bearer {token}"
    },
    "output": {
      "result_list_key": "retorno",
      "rule": "uid - name",
      "keys": {
        "uid": "LinId",
        "name": "LinDescricao"
      }
    }
  },
  "aditional_categoria_produto_custom_keys_list": {
    "endpoint": "http://app.wikisistemas.com.br/api/wiki_v2/categoria_get",
    "method": "GET",
    "send_as_json": true,
    "queryparam": {
      "audaces": 1
    },
    "bodyparam": {},
    "header": {
      "Token": "Bearer {token}"
    },
    "output": {
      "result_list_key": "retorno",
      "rule": "uid - name",
      "keys": {
        "uid": "CatId",
        "name": "CatDescricao"
      }
    }
  },
  "aditional_colecao_custom_keys_list": {
    "endpoint": "http://app.wikisistemas.com.br/api/wiki_v2/colecao_get",
    "method": "GET",
    "send_as_json": true,
    "queryparam": {
      "audaces": 1
    },
    "bodyparam": {},
    "header": {
      "Token": "Bearer {token}"
    },
    "output": {
      "result_list_key": "retorno",
      "rule": "uid - name",
      "keys": {
        "uid": "ColId",
        "name": "ColDescricao"
      }
    }
  },
  "aditional_saldo_estoque_custom_keys_list": {
    "endpoint": "http://app.wikisistemas.com.br/api/wiki_v2/saldo_estoque_get",
    "method": "GET",
    "send_as_json": true,
    "erp_search_id": "est_prod_id",
    "queryparam": {
      "empId": "%COMPANY_ID%",
      "pagina": 1,
      "prodId": "%PRODUCT_ID%",
      "situacao": "%STATUS%",
      "referencia": "%REFERENCE%",
      "descricao": "%DESCRIPTION%"
    },
    "bodyparam": {},
    "header": {
      "Token": "Bearer {token}"
    },
    "output": {
      "result_list_key": "retorno.dados",
      "keys": {
        "company_id": "est_emp_id",
        "product_id": "est_prod_id",
        "reference": "prod_referencia",
        "description": "prod_descricao",
        "size": "estct_tamanho",
        "color": "cor",
        "stock_balance": "estct_saldo",
        "last_update": "est_data_atualizacao",
        "group_id": "ger_id",
        "group_name": "grupo",
        "subgroup": "subgrupo",
        "brand": "marca",
        "segment": "segmento",
        "line": "linha",
        "category": "categoria",
        "product_status": "prod_situacao",
        "creation_date": "prod_datacad",
        "last_modification_date": "prod_data_alt"
      }
    }
  },
  "raw_material": {
    "endpoint": "http://app.wikisistemas.com.br/api/wiki_v2/materiaprima_get",
    "method": "GET",
    "send_as_json": true,
    "queryparam": {
      "audaces": 1
    },
    "header": {
      "Token" : "Bearer {token}"
    },
    "erp_search_id": "id",
    "bodyparam": {},
    "output": {
      "result_list_key": "retorno",
      "rule" : "uid - name",
      "keys": {
        "uid": "MatId",
        "name": "MatDescricao",
        "description": "MatDescricao",
        "reference": "MatId",
        "measure_unit": "MatUnd",
        "product_group": "MatGrupoId",
        "color_id": "CorId",
        "value": "MecSaldo"
      },
      "custom_keys" : {},
      "custom_keys_list": {
	      "variants": "aditional_cor_custom_keys_list"
      }
    }
    
  },
  "activity": {
    "endpoint": "http://app.wikisistemas.com.br/api/wiki_v2/operacoes_get",
    "method": "GET",
    "send_as_json": true,
    "erp_search_id": "id",
    "queryparam": {
      "audaces": 1
    },
    "bodyparam": {},
    "header": {
      "Token": "Bearer {token}"
    },
    "output": {
      "result_list_key": "retorno",
      "keys": {
        "uid": "SerId",
        "name": "SerDescricao",
        "description": "SerDescricao",
        "reference": "SerId",
        "value": {
          "editable": true
        }
      }
    }
  },
  "operations_sheet_materials": {
    "endpoint": "http://app.wikisistemas.com.br/api/wiki_v2/operacoesfichatecnica_get",
    "method": "GET",
    "send_as_json": true,
    "queryparam": {
      "id": "%ERP_SEARCH_ID%"
    },
    "header": {
      "Token": "Bearer {token}"
    },
    "erp_search_id": "id",
    "bodyparam": {},
    "output": {
      "result_list_key": "retorno",
      "keys": {
        "uid": "FchsSerId",
        "name": "SerDescricao",
        "technical_sheet_id": "FchId"
      }
    }
  },
  "technical_sheet_materials": {
    "endpoint": "http://app.wikisistemas.com.br/api/wiki_v2/insumosfichatecnica_get",
    "method": "GET",
    "send_as_json": true,
    "queryparam": {
      "Id": "%ERP_SEARCH_ID%"
    },
    "header": {
      "Token": "Bearer {token}"
    },
    "erp_search_id": "Id",
    "bodyparam": {},
    "output": {
      "result_list_key": "retorno",
      "keys": {
        "uid": "MatId",
        "reference": "MatReferencia",
        "name": "MatDescricao",
        "amount": "Qtd",
        "technical_sheet_id": "FchId"
      }
    }
  },
  "product": {
    "endpoint" : "https://app.wikisistemas.com.br/api/wiki_v2/produto_post",
    "method" : "POST",
    "send_as_json" : true,
    "bodyparam": {},
    "queryparam": 
    {
      "audaces": 1
    },
    "erp_search_id" : "FchProdId",
    "header" : 
    {
      "Token" : "Bearer {token}"
    },
    "output" : 
    {
      "result_list_key" : "",
      "keys" : 
      {
        "ProdReferencia": "variants.0.custom_fields.ref.value",
        "ProdDescricao": "variants.0.description",
        "ProdSituacao":"variants.0.custom_fields.ProdSituacao.value",
        "ProdTipo":"variants.0.custom_fields.ProdTipo.value"
      },
      "custom_keys" : 
      {
        "ListaCores": 
        [
          {
            "CorId": "variants.custom_fields.Cor.value",
            "CorDescricao": "variants.custom_fields.Cor.value"
          }
        ]
      }
    }
  },
  "garment" : {
    "endpoint" : "https://app.wikisistemas.com.br/api/wiki_v2/ficha_tecnica_post",
    "method" : "POST",
    "send_as_json" : true,
    "bodyparam": {},
    "queryparam": 
    {
      "audaces": 1
    },
    "erp_search_id" : "FchProdId",
    "header" : 
    {
      "Token" : "Bearer {token}"
    },
    "output" : 
    {
      "result_list_key" : "",
      "keys" : 
      {
        "FchId": "uid",
        "FchProdId": "variants.0.custom_fields.ref.value",
        "FchData":"last_modified",
        "FchDescricao":"variants.0.description",
        "ProdReferencia": "variants.0.custom_fields.ref.value",
        "ProdDescricao": "variants.0.description",
        "ProdSituacao":"variants.0.custom_fields.ProdSituacao.value",
        "ProdTipo":"variants.0.custom_fields.ProdTipo.value",
        "ProdGradeId":"variants.0.custom_fields.Grade.value",
        "FchAprovado":"1",
        "FchAtual":"1"
      },
      "custom_keys": {
        "ListaCores": [
          {
            "CorId": "variants.custom_fields.Cor.value",
            "CorDescricao": "variants.custom_fields.Cor.value"
          }
        ],
        "Materiais": [
          {
            "MatId": "variants.materials.uid",
            "MatCorId": "variants.materials.color",
            "ProdCorId": "variants.custom_fields.Cor.value",
            "ProdTam": "variants.custom_fields.Tamanho.value",
            "MatTam": "variants.materials.custom_fields.size.value",
            "Qtd": "variants.materials.amount",
            "VlrUnit": "variants.materials.cost"
          }
        ],
        "Servicos": [
          {
            "SerId": "variants.activities.uid",
            "SerVlr": "variants.activities.cost",
            "SerQtd": "variants.activities.time"
          }
        ]
      },
      "erp_format": {}
    }
  },
  "picture": {
    "uses_garment_endpoint": true,
    "endpoint": "https://app.wikisistemas.com.br/api/wiki_v2/ficha_tecnica_post",
    "method": "POST",
    "send_as_json": true,
    "queryparam": {
      "audaces": 1
    },
    "header": {
      "Token": "Bearer {token}"
    },
    "output": {
      "result_list_key": "",
      "keys": {
        "FchId": "uid",
        "FchProdId": "variants.0.custom_fields.ref.value",
        "FchData": "last_modified",
        "ProdReferencia": "variants.0.custom_fields.ref.value",
        "ProdDescricao": "variants.0.description",
        "FchDescricao": "variants.0.description",
        "ProdSituacao": "variants.0.custom_fields.ProdSituacao.value",
        "ProdTipo": "variants.0.custom_fields.ProdTipo.value",
        "ProdGradeId": "variants.0.custom_fields.Grade.value",
        "FchAprovado": "1",
        "FchAtual": "1"
      },
      "custom_keys": {
        "ListaCores": [
          {
            "CorId": "variants.custom_fields.Cor.value",
            "CorDescricao": "variants.custom_fields.Cor.value"
          }
        ],
        "Materiais": [
          {
            "MatId": "variants.materials.uid",
            "MatCorId": "variants.materials.color",
            "ProdCorId": "variants.custom_fields.Cor.value",
            "ProdTam": "variants.custom_fields.Tamanho.value",
            "MatTam": "variants.materials.custom_fields.size.value",
            "Qtd": "variants.materials.amount",
            "VlrUnit": "variants.materials.cost"
          }
        ],
        "Servicos": [
          {
            "SerId": "variants.activities.uid",
            "SerVlr": "variants.activities.cost",
            "SerQtd": "variants.activities.time"
          }
        ],
        "Fotos": [
          {
            "fchfId": "pictures.id",
            "fchfDescricao": "pictures.description",
            "fchfFoto": "pictures.image_base64"
          }
        ]
      }
    }
  },
  "ficha_tecnica": {
    "endpoint": "http://app.wikisistemas.com.br/api/wiki_v2/ficha_tecnica_get",
    "method": "GET",
    "send_as_json": true,
    "erp_search_id": "id",
    "queryparam": {
      "pagina": 1,
      "audaces": 1
    },
    "bodyparam": {},
    "header": {
      "Token": "Bearer {token}"
    },
    "output": {
      "result_list_key": "retorno.dados",
      "keys": {
        "uid": "ProdId"
      },
      "custom_keys": {},
	   "custom_keys_list": {}
    }
  }
}
